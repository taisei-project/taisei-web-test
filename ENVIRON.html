<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Taisei Project – Environment Variables</title>
<style type="text/css">

/* Minimal style sheet for the HTML output of Docutils.                    */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: minimal.css 8397 2019-09-20 11:09:34Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */

/* This CSS2.1_ stylesheet defines rules for Docutils elements without    */
/* HTML equivalent. It is required to make the document semantic visible. */
/*                                                                        */
/* .. _CSS2.1: http://www.w3.org/TR/CSS2                                  */
/* .. _validates: http://jigsaw.w3.org/css-validator/validator$link       */

/* alignment of text and inline objects inside block objects*/
.align-left   { text-align: left; }
.align-right  { text-align: right; }
.align-center { clear: both; text-align: center; }
.align-top    { vertical-align: top; }
.align-middle { vertical-align: middle; }
.align-bottom { vertical-align: bottom; }

/* titles */
h1.title, p.subtitle {
  text-align: center;
}
p.topic-title,
p.sidebar-title,
p.rubric,
p.admonition-title,
p.system-message-title {
  font-weight: bold;
}
h1 + p.subtitle,
h1 + p.section-subtitle {
  font-size: 1.6em;
}
h2 + p.section-subtitle { font-size: 1.28em; }
p.subtitle,
p.section-subtitle,
p.sidebar-subtitle {
  font-weight: bold;
  margin-top: -0.5em;
}
p.sidebar-title,
p.rubric {
  font-size: larger;
}
p.rubric { color: maroon; }
a.toc-backref {
  color: black;
  text-decoration: none; }

/* Warnings, Errors */
div.caution p.admonition-title,
div.attention p.admonition-title,
div.danger p.admonition-title,
div.error p.admonition-title,
div.warning p.admonition-title,
div.system-messages h1,
div.error,
span.problematic,
p.system-message-title {
  color: red;
}

/* inline literals */
span.docutils.literal {
  font-family: monospace;
  white-space: pre-wrap;
}
/* do not wraph at hyphens and similar: */
.literal > span.pre { white-space: nowrap; }

/* Lists */

/* compact and simple lists: no margin between items */
.simple  li, .compact li,
.simple  ul, .compact ul,
.simple  ol, .compact ol,
.simple > li p, .compact > li p,
dl.simple > dd, dl.compact > dd {
  margin-top: 0;
  margin-bottom: 0;
}

/* Table of Contents */
div.topic.contents { margin: 0.5em 0; }
div.topic.contents ul {
  list-style-type: none;
  padding-left: 1.5em;
}

/* Enumerated Lists */
ol.arabic     { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }

dt span.classifier { font-style: italic }
dt span.classifier:before {
  font-style: normal;
  margin: 0.5em;
  content: ":";
}

/* Field Lists and drivatives */
/* bold field name, content starts on the same line */
dl.field-list > dt,
dl.option-list > dt,
dl.docinfo > dt,
dl.footnote > dt,
dl.citation > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}
/* Offset for field content (corresponds to the --field-name-limit option) */
dl.field-list > dd,
dl.option-list > dd,
dl.docinfo > dd {
  margin-left:  9em; /* ca. 14 chars in the test examples */
}
/* start field-body on a new line after long field names */
dl.field-list > dd > *:first-child,
dl.option-list > dd > *:first-child
{
  display: inline-block;
  width: 100%;
  margin: 0;
}
/* field names followed by a colon */
dl.field-list > dt:after,
dl.docinfo > dt:after {
  content: ":";
}

/* Bibliographic Fields (docinfo) */
pre.address { font: inherit; }
dd.authors > p { margin: 0; }

/* Option Lists */
dl.option-list { margin-left: 1.5em; }
dl.option-list > dt { font-weight: normal; }
span.option { white-space: nowrap; }

/* Footnotes and Citations  */
dl.footnote.superscript > dd {margin-left: 1em; }
dl.footnote.brackets > dd {margin-left: 2em; }
dl > dt.label { font-weight: normal; }
a.footnote-reference.brackets:before,
dt.label > span.brackets:before { content: "["; }
a.footnote-reference.brackets:after,
dt.label > span.brackets:after { content: "]"; }
a.footnote-reference.superscript,
dl.footnote.superscript > dt.label {
  vertical-align: super;
  font-size: smaller;
}
dt.label > span.fn-backref { margin-left: 0.2em; }
dt.label > span.fn-backref > a { font-style: italic; }

/* Line Blocks */
div.line-block { display: block; }
div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 40px;
}

/* Figures, Images, and Tables */
.figure.align-left,
figure.align-left,
img.align-left,
object.align-left,
table.align-left {
  margin-right: auto;
}
.figure.align-center,
figure.align-center,
img.align-center,
object.align-center,
table.align-center {
  margin-left: auto;
  margin-right: auto;
}
.figure.align-right,
figure.align-right,
img.align-right,
object.align-right,
table.align-right {
  margin-left: auto;
}
.figure.align-center, .figure.align-right,
figure.align-center, figure.align-right,
img.align-center, img.align-right,
object.align-center, object.align-right {
  display: block;
}
/* reset inner alignment in figures and tables */
.figure.align-left, .figure.align-right,
figure.align-left, figure.align-right,
table.align-left, table.align-center, table.align-right {
  text-align: inherit;
}

/* Admonitions and System Messages */
div.admonition,
div.system-message,
div.sidebar,
aside.sidebar {
  margin: 1em 1.5em;
  border: medium outset;
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  padding-right: 1em;
  padding-left: 1em;
}

/* Sidebar */
div.sidebar,
aside.sidebar {
  width: 30%;
  max-width: 26em;
  float: right;
  clear: right;
}

/* Text Blocks */
blockquote,
div.topic,
pre.literal-block,
pre.doctest-block,
pre.math,
pre.code {
  margin-left: 1.5em;
  margin-right: 1.5em;
}
pre.code .ln { color: gray; } /* line numbers */

/* Tables */
table { border-collapse: collapse; }
td, th {
  border-style: solid;
  border-color: silver;
  padding: 0 1ex;
  border-width: thin;
}
td > p:first-child, th > p:first-child { margin-top: 0; }
td > p, th > p { margin-bottom: 0; }

table > caption {
  text-align: left;
  margin-bottom: 0.25em
}

table.borderless td, table.borderless th {
  border: 0;
  padding: 0;
  padding-right: 0.5em /* separate table cells */
}

/* Document Header and Footer */
/* div.header,				      */
/* header { border-bottom: 1px solid black; } */
/* div.footer,				      */
/* footer { border-top: 1px solid black; }    */

/* new HTML5 block elements: set display for older browsers */
header, section, footer, aside, nav, main, article, figure {
  display: block;
}

</style>
<style type="text/css">

/* CSS31_ style sheet for the output of Docutils HTML writers.             */
/* Rules for easy reading and pre-defined style variants.		   */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: plain.css 8397 2019-09-20 11:09:34Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*    	     	      	     	 					   */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */
/* .. _CSS3: http://www.w3.org/TR/CSS3		        		   */


/* Document Structure */
/* ****************** */

/* "page layout" */
body {
  margin: 0;
  background-color: #dbdbdb;
}
div.document,
main {
  line-height:1.3;
  counter-reset: table;
  /* counter-reset: figure; */
  /* avoid long lines --> better reading */
  /* OTOH: lines should not be too short because of missing hyphenation, */
  max-width: 50em;
  padding: 1px 2%; /* 1px on top avoids grey bar above title (mozilla) */
  margin: auto;
  background-color: white;
}

/* Sections */

/* Transitions */

hr.docutils {
  width: 80%;
  margin-top: 1em;
  margin-bottom: 1em;
  clear: both;
}

/* Paragraphs */
/* ========== */

/* vertical space (parskip) */
p, ol, ul, dl,
div.line-block,
div.topic,
table {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}
p:first-child { margin-top: 0; }
/* (:last-child is new in CSS 3) */
p:last-child  { margin-bottom: 0; }

h1, h2, h3, h4, h5, h6,
dl > dd {
  margin-bottom: 0.5em;
}

/* Lists */
/* ===== */

/* Definition Lists */

/* lists nested in definition lists */
/* (:only-child is new in CSS 3) */
dd > ul:only-child, dd > ol:only-child { padding-left: 1em; }

/* Description Lists */
/* styled like in most dictionaries, encyclopedias etc. */
dl.description > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}

/* Field Lists */

/* example for custom field-name width */
dl.field-list.narrow > dd {
  margin-left: 5em;
}
/* run-in: start field-body on same line after long field names */
dl.field-list.run-in > dd p {
  display: block;
}

/* Bibliographic Fields */

/* generally, bibliographic fields use special definition list dl.docinfo */
/* but dedication and abstract are placed into "topic" divs */
div.abstract p.topic-title {
  text-align: center;
}
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic;
}
div.dedication p.topic-title {
  font-style: normal;
}

/* Citations */
dl.citation dt.label {
  font-weight: bold;
}
span.fn-backref {
  font-weight: normal;
}

/* Text Blocks */
/* =========== */

/* Literal Blocks */

pre.literal-block,
pre.doctest-block,
pre.math,
pre.code {
  font-family: monospace;
}

/* Block Quotes */

blockquote > table,
div.topic > table {
  margin-top: 0;
  margin-bottom: 0;
}
blockquote p.attribution,
div.topic p.attribution {
  text-align: right;
  margin-left: 20%;
}

/* Tables */
/* ====== */

/* th { vertical-align: bottom; } */

table tr { text-align: left; }

/* "booktabs" style (no vertical lines) */
table.booktabs {
  border: 0;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.booktabs * {
  border: 0;
}
table.booktabs th {
  border-bottom: thin solid;
}

/* numbered tables (counter defined in div.document) */
table.numbered > caption:before {
  counter-increment: table;
  content: "Table " counter(table) ": ";
  font-weight: bold;
}

/* Explicit Markup Blocks */
/* ====================== */

/* Footnotes and Citations */
/* ----------------------- */

/* line on the left */
dl.footnote {
  padding-left: 1ex;
  border-left: solid;
  border-left-width: thin;
}

/* Directives */
/* ---------- */

/* Body Elements */
/* ~~~~~~~~~~~~~ */

/* Images and Figures */

/* let content flow to the side of aligned images and figures */
.figure.align-left,
figure.align-left,
img.align-left,
object.align-left {
  display: block;
  clear: left;
  float: left;
  margin-right: 1em;
}
.figure.align-right,
figure.align-right,
img.align-right,
object.align-right {
  display: block;
  clear: right;
  float: right;
  margin-left: 1em;
}
/* Stop floating sidebars, images and figures at section level 1,2,3 */
h1, h2, h3 { clear: both; }

/* Sidebar */

/* Move right. In a layout with fixed margins, */
/* it can be moved into the margin.   	       */
div.sidebar,
aside.sidebar {
  width: 30%;
  max-width: 26em;
  margin-left: 1em;
  margin-right: -2%;
  background-color: #ffffee;
}

/* Code */

pre.code { padding: 0.7ex }
pre.code, code { background-color: #eeeeee }
pre.code .ln { color: gray; } /* line numbers */
/* basic highlighting: for a complete scheme, see */
/* http://docutils.sourceforge.net/sandbox/stylesheets/ */
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

/* Math */
/* styled separately (see math.css for math-output=HTML) */

/* Epigraph           */
/* Highlights         */
/* Pull-Quote         */
/* Compound Paragraph */
/* Container          */

/* can be styled in a custom stylesheet */

/* Document Header and Footer */

footer, header,
div.footer, div.header {
  font-size: smaller;
  clear: both;
  padding: 0.5em 2%;
  background-color: #ebebee;
  border: none;
}

/* Inline Markup */
/* ============= */

/* Emphasis           */
/*   em               */
/* Strong Emphasis    */
/*   strong	      */
/* Interpreted Text   */
/*   span.interpreted */
/* Title Reference    */
/*   cite	      */

/* Inline Literals                                          */
/* possible values: normal, nowrap, pre, pre-wrap, pre-line */
/*   span.docutils.literal { white-space: pre-wrap; }       */

/* Hyperlink References */
a { text-decoration: none; }

/* External Targets       */
/*   span.target.external */
/* Internal Targets  	  */
/*   span.target.internal */
/* Footnote References    */
/*   a.footnote-reference */
/* Citation References    */
/*   a.citation-reference */

</style>
<style type="text/css">

.strike {
    text-decoration: line-through;
}
</style>
</head>
<body>
<div class="document" id="taisei-project-environment-variables">
<h1 class="title">Taisei Project – Environment Variables</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#variables" id="id2">Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#virtual-filesystem" id="id3">Virtual filesystem</a></p></li>
<li><p><a class="reference internal" href="#resources" id="id4">Resources</a></p></li>
<li><p><a class="reference internal" href="#video-and-opengl" id="id5">Video and OpenGL</a></p></li>
<li><p><a class="reference internal" href="#audio" id="id6">Audio</a></p></li>
<li><p><a class="reference internal" href="#timing" id="id7">Timing</a></p></li>
<li><p><a class="reference internal" href="#demo-playback" id="id8">Demo Playback</a></p></li>
<li><p><a class="reference internal" href="#kiosk-mode" id="id9">Kiosk Mode</a></p></li>
<li><p><a class="reference internal" href="#frame-dump-mode" id="id10">Frame Dump Mode</a></p></li>
<li><p><a class="reference internal" href="#miscellaneous" id="id11">Miscellaneous</a></p></li>
<li><p><a class="reference internal" href="#logging" id="id12">Logging</a></p>
<ul>
<li><p><a class="reference internal" href="#the-levels" id="id13">The levels</a></p></li>
<li><p><a class="reference internal" href="#the-variables" id="id14">The variables</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id15">Examples</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id1">Introduction</a></h1>
<p>Some of Taisei’s more advanced configuration options are delegated to
<a class="reference external" href="https://en.wikipedia.org/wiki/Environment_variable">environment
variables</a>. This
document attempts to describe them all.</p>
<p>Generally you don’t need to set any of them. They are intended for
developers and advanced users only. Therefore, familiarity with the
concept is assumed.</p>
<p>In addition to the variables listed here, those processed by our runtime
dependencies (such as SDL) also take effect, unless stated otherwise.</p>
</div>
<div class="section" id="variables">
<h1><a class="toc-backref" href="#id2">Variables</a></h1>
<div class="section" id="virtual-filesystem">
<h2><a class="toc-backref" href="#id3">Virtual filesystem</a></h2>
<dl>
<dt><strong>TAISEI_RES_PATH</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
</div>
<p>If set, overrides the default <strong>resource directory</strong> path. This is
where Taisei looks for game data. The default path is platform and
build specific:</p>
<ul>
<li><p>On <strong>macOS</strong>, it will be the <span class="docutils literal">Contents/Resources/data</span> directory
inside of the <span class="docutils literal">Taisei.app</span> bundle.</p></li>
<li><p>On <strong>Linux</strong>, <strong>*BSD</strong>, and most other <strong>Unix</strong>-like systems
(without -DRELATIVE), it will be <span class="docutils literal">$prefix/share/taisei</span>. This
path is static and determined at compile time.</p></li>
<li><p>On <strong>Windows</strong> and other platforms when built with -DRELATIVE, it
will be the <span class="docutils literal">data</span> directory relative to the executable (or to
whatever <span class="docutils literal">SDL_GetBasePath</span> returns on the given platform).</p></li>
</ul>
</dd>
<dt><strong>TAISEI_STORAGE_PATH</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
</div>
<p>If set, overrides the default <strong>storage directory</strong> path. This is
where Taisei saves your configuration, progress, screenshots and
replays. Taisei also loads custom data from the <span class="docutils literal">resources</span>
subdirectory in there, if any, in addition to the stock assets. The
custom resources shadow the default ones if the names clash. The
default path is platform specific, and is equivalent to the return
value of <span class="docutils literal"><span class="pre">SDL_GetPrefPath(&quot;&quot;,</span> &quot;taisei&quot;)</span>:</p>
<ul>
<li><p>On <strong>Windows</strong>, it’s <span class="docutils literal"><span class="pre">%APPDATA%\taisei</span></span>.</p></li>
<li><p>On <strong>macOS</strong>, it’s <span class="docutils literal">$HOME/Library/Application Support/taisei</span>.</p></li>
<li><p>On <strong>Linux</strong>, <strong>*BSD</strong>, and most other <strong>Unix</strong>-like systems,
it’s <span class="docutils literal">$XDG_DATA_HOME/taisei</span> or <span class="docutils literal"><span class="pre">$HOME/.local/share/taisei</span></span>.</p></li>
</ul>
</dd>
<dt><strong>TAISEI_CACHE_PATH</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
</div>
<p>If set, overrides the default <strong>cache directly</strong> path. This is where
Taisei stores transcoded Basis Universal textures and translated shaders
to speed up future loading times.</p>
<ul>
<li><p>On <strong>Windows</strong>, it’s <span class="docutils literal"><span class="pre">%LOCALAPPDATA%\taisei\cache</span></span>.</p></li>
<li><p>On <strong>macOS</strong>, it’s <span class="docutils literal">$HOME/Library/Caches/taisei</span>.</p></li>
<li><p>On <strong>Linux</strong>, <strong>*BSD</strong>, and most other <strong>Unix</strong>-like systems,
it’s <span class="docutils literal">$XDG_CACHE_HOME/taisei</span> or <span class="docutils literal"><span class="pre">$HOME/.cache/taisei</span></span>.</p></li>
</ul>
<p>It is safe to delete this directly; Taisei will rebuild the cache as it
loads resources. If you don’t want Taisei to write a persistent cache,
you can set this to a non-writable directory.</p>
</dd>
</dl>
</div>
<div class="section" id="resources">
<h2><a class="toc-backref" href="#id4">Resources</a></h2>
<dl>
<dt><strong>TAISEI_NOASYNC</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, disables asynchronous loading. Increases loading times, might
slightly reduce CPU and memory usage during loads. Generally not
recommended unless you encounter a race condition bug, in which case
you should report it.</p>
</dd>
<dt><strong>TAISEI_NOUNLOAD</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, loaded resources are never unloaded. Increases memory usage,
reduces filesystem reads and loading times over time.</p>
</dd>
<dt><strong>TAISEI_NOPRELOAD</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, disables preloading. All resources are only loaded as they
are needed. Reduces loading times and memory usage, but may cause
stuttering during gameplay.</p>
</dd>
<dt><strong>TAISEI_PRELOAD_REQUIRED</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, the game will crash with an error message when it attempts to
use a resource that hasn’t been previously preloaded. Useful for
developers to debug missing preloads.</p>
</dd>
<dt><strong>TAISEI_PRELOAD_SHADERS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, Taisei will load all shader programs at startup. This is mainly
useful for developers to quickly ensure that none of them fail to compile.</p>
</dd>
<dt><strong>TAISEI_AGGRESSIVE_PRELOAD</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, Taisei will scan all available resources and try to load all of
them at startup. Implies <span class="docutils literal">TAISEI_NOUNLOAD=1</span>.</p>
</dd>
<dt><strong>TAISEI_BASISU_FORCE_UNCOMPRESSED</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, Basis Universal-compressed textures will be decompressed on the
CPU and sent to the GPU in an uncompressed form. For debugging.</p>
</dd>
<dt><strong>TAISEI_BASISU_MAX_MIP_LEVELS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">&gt;0</span>, limits the amount of mipmap layers loaded from Basis Universal
textures. For debugging.</p>
</dd>
<dt><strong>TAISEI_BASISU_MIP_BIAS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">&gt;0</span>, makes Taisei load lower resolution versions of Basis Universal
textures that have mipmaps. Each level halves the resolution in each
dimension.</p>
</dd>
<dt><strong>TAISEI_TASKMGR_NUM_THREADS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span> (auto-detect)</div>
</div>
<p>How many background worker threads to create for handling tasks such as
resource loading. If <span class="docutils literal">0</span>, this will default to double the amount of
logical CPU cores on the host machine.</p>
</dd>
</dl>
</div>
<div class="section" id="video-and-opengl">
<h2><a class="toc-backref" href="#id5">Video and OpenGL</a></h2>
<dl>
<dt><strong>TAISEI_PREFER_SDL_VIDEODRIVERS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">wayland,mir,cocoa,windows,x11</span></div>
</div>
<p>List of SDL video backends that Taisei will attempt to use, in the
specified order, before falling back to SDL’s default. Entries may be
separated by spaces, commas, colons, and semicolons. This variable is
ignored if <span class="docutils literal">SDL_VIDEODRIVER</span> is set.</p>
</dd>
<dt><strong>TAISEI_VIDEO_DRIVER</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
<div class="line"><strong>Deprecated</strong></div>
</div>
<p>Use <span class="docutils literal">SDL_VIDEODRIVER</span> instead.</p>
</dd>
<dt><strong>TAISEI_VIDEO_RECREATE_ON_FULLSCREEN</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span>; <span class="docutils literal">1</span> on X11</div>
</div>
<p>If <span class="docutils literal">1</span>, Taisei will re-create the window when switching between fullscreen
and windowed modes. Can be useful to work around some window manager bugs.</p>
</dd>
<dt><strong>TAISEI_VIDEO_RECREATE_ON_RESIZE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span>; <span class="docutils literal">1</span> on X11 and Emscripten</div>
</div>
<p>If <span class="docutils literal">1</span>, Taisei will re-create the window when the window size is changed
in the settings. Can be useful to work around some window manager bugs.</p>
</dd>
<dt><strong>TAISEI_RENDERER</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">gl33</span></div>
</div>
<p>Selects the rendering backend to use. Currently available options are:</p>
<blockquote>
<ul>
<li><p><span class="docutils literal">gl33</span>: the OpenGL 3.3 Core renderer</p></li>
<li><p><span class="docutils literal">gles30</span>: the OpenGL ES 3.0 renderer</p></li>
<li><p><span class="docutils literal">null</span>: the no-op renderer (nothing is displayed)</p></li>
</ul>
</blockquote>
<p>Note that the actual subset of usable backends, as well as the default
choice, can be controlled by build options.</p>
</dd>
<dt><strong>TAISEI_LIBGL</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
</div>
<p>OpenGL library to load instead of the default. The value has a
platform-specific meaning (it’s passed to the equivalent of <span class="docutils literal">dlopen</span>).
Takes precedence over <span class="docutils literal">SDL_OPENGL_LIBRARY</span> if set. Has no effect if
Taisei is linked to libgl (which is not recommended, because it’s not
portable).</p>
</dd>
<dt><strong>TAISEI_GL_DEBUG</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>Enables OpenGL debugging. A debug context will be requested, all OpenGL
messages will be logged, and errors are fatal. Requires the <span class="docutils literal">KHR_debug</span>
or <span class="docutils literal">ARB_debug_output</span> extension.</p>
</dd>
<dt><strong>TAISEI_GL_EXT_OVERRIDES</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
</div>
<p>Space-separated list of OpenGL extensions that are assumed to be
supported, even if the driver says they aren’t. Prefix an extension with
<span class="docutils literal">-</span> to invert this behaviour. Might be used to work around bugs in
some weird/ancient/broken drivers, but your chances are slim. Note that
this only affects code paths that actually test for the given extensions,
not the actual OpenGL functionality. Some OpenGL implementations (such as
Mesa) provide their own mechanisms for controlling extensions. You most
likely want to use that instead.</p>
</dd>
<dt><strong>TAISEI_GL_WORKAROUND_DISABLE_NORM16</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
</div>
<p>If <span class="docutils literal">1</span>, disables use of normalized 16 bit-per-channel textures in OpenGL.
May be useful to work around broken drivers. If unset (default), will try
to automatically disable them on drivers that are known to be problematic.
If <span class="docutils literal">0</span>, 16-bit textures will always be used when available.</p>
</dd>
<dt><strong>TAISEI_GL33_CORE_PROFILE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
</div>
<p>If <span class="docutils literal">1</span>, try to create a Core profile context in the gl33 backend.
If <span class="docutils literal">0</span>, create a Compatibility profile context.</p>
</dd>
<dt><strong>TAISEI_GL33_FORWARD_COMPATIBLE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
</div>
<p>If <span class="docutils literal">1</span>, try to create a forward-compatible context with some deprecated
OpenGL features disabled.</p>
</dd>
<dt><strong>TAISEI_GL33_VERSION_MAJOR</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">3</span></div>
</div>
<p>Request an OpenGL context with this major version.</p>
</dd>
<dt><strong>TAISEI_GL33_VERSION_MINOR</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">3</span></div>
</div>
<p>Request an OpenGL context with this minor version.</p>
</dd>
<dt><strong>TAISEI_FRAMERATE_GRAPHS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span> for release builds, <span class="docutils literal">1</span> for debug builds</div>
</div>
<p>If <span class="docutils literal">1</span>, framerate graphs will be drawn on the HUD.</p>
</dd>
<dt><strong>TAISEI_OBJPOOL_STATS</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>Displays some statistics about usage of in-game objects.</p>
</dd>
<dt><strong>TAISEI_ANGLE_WEBGL</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span>; <span class="docutils literal">1</span> on Windows</div>
</div>
<p>If <span class="docutils literal">1</span> and the gles30 renderer backend has been configured to use ANGLE,
it will create a WebGL-compatible context. This is needed to work around
broken cubemaps in ANGLE’s D3D11 backend.</p>
</dd>
</dl>
</div>
<div class="section" id="audio">
<h2><a class="toc-backref" href="#id6">Audio</a></h2>
<dl>
<dt><strong>TAISEI_AUDIO_BACKEND</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">sdl</span></div>
</div>
<p>Selects the audio playback backend to use. Currently available options are:</p>
<blockquote>
<ul>
<li><p><span class="docutils literal">sdl</span>: the SDL2 audio subsystem, with a custom mixer</p></li>
<li><p><span class="docutils literal">null</span>: no audio playback</p></li>
</ul>
</blockquote>
<p>Note that the actual subset of usable backends, as well as the default
choice, can be controlled by build options.</p>
</dd>
</dl>
</div>
<div class="section" id="timing">
<h2><a class="toc-backref" href="#id7">Timing</a></h2>
<dl>
<dt><strong>TAISEI_HIRES_TIMER</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
</div>
<p>If <span class="docutils literal">1</span>, tries to use the system’s high resolution timer to limit the
game’s framerate. Disabling this is not recommended; it will likely make
Taisei run slower or faster than intended and the reported FPS will be
less accurate.</p>
</dd>
<dt><strong>TAISEI_FRAMELIMITER_SLEEP</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">3</span></div>
</div>
<p>If over <span class="docutils literal">0</span>, tries to give up processing time to other applications
while waiting for the next frame, if at least <span class="docutils literal">frame_time / this_value</span>
amount of time is remaining. Increasesing this value reduces CPU usage,
but may harm performance. Set to <span class="docutils literal">0</span> for the v1.2 default behaviour.</p>
</dd>
<dt><strong>TAISEI_FRAMELIMITER_COMPENSATE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
</div>
<p>If <span class="docutils literal">1</span>, the framerate limiter may let frames finish earlier than
normal after sudden frametime spikes. This achieves better timing
accuracy, but may hurt fluidity if the framerate is too unstable.</p>
</dd>
<dt><strong>TAISEI_FRAMELIMITER_LOGIC_ONLY</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
<div class="line"><strong>Experimental</strong></div>
</div>
<p>If <span class="docutils literal">1</span>, only the logic framerate will be capped; new rendering frames
will be processed as quickly as possible, with no delay. This inherently
desynchronizes logic and rendering frames, and therefore, some logic
frames may be dropped if rendering is too slow. However, unlike with the
synchronous mode, the game speed will remain roughly constant in those
cases. <span class="docutils literal">TAISEI_FRAMELIMITER_SLEEP</span>, <span class="docutils literal">TAISEI_FRAMELIMITER_COMPENSATE</span>,
and the <span class="docutils literal">frameskip</span> setting have no effect in this mode.</p>
</dd>
</dl>
</div>
<div class="section" id="demo-playback">
<h2><a class="toc-backref" href="#id8">Demo Playback</a></h2>
<dl>
<dt><strong>TAISEI_DEMO_TIME</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">3600</span> (1 minute)</div>
</div>
<p>How much time (in frames) of user inactivity is required to begin playing
demo replays in the menu. If <span class="docutils literal">&lt;=0</span>, demo playback will be disabled.</p>
</dd>
<dt><strong>TAISEI_DEMO_INTER_TIME</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1800</span> (30 seconds)</div>
</div>
<p>How much time (in frames) of user inactivity is required to advance to the
next demo in the sequence in between demo playback. This delay will be reset
back to <span class="docutils literal">TAISEI_DEMO_TIME</span> on user activity.</p>
</dd>
</dl>
</div>
<div class="section" id="kiosk-mode">
<h2><a class="toc-backref" href="#id9">Kiosk Mode</a></h2>
<dl>
<dt><strong>TAISEI_KIOSK</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, run Taisei in “kiosk mode”. This forces the game into fullscreen,
makes the window uncloseable, disables the “Quit” main menu option, and
enables a watchdog that resets the game back to the main menu and default
settings if there’s no user activity for too long.</p>
<p>Useful for running a public “arcade cabinet” at events. You can customize
the game’s default setting by placing a <span class="docutils literal">config.default</span> file into one of
the resource search paths, e.g. <span class="docutils literal"><span class="pre">$HOME/.local/share/taisei/resources</span></span>.
The format is the same as the <span class="docutils literal">config</span> file created by Taisei in the
storage directly.</p>
</dd>
<dt><strong>TAISEI_KIOSK_PREVENT_QUIT</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, allows users to quit the game in kiosk mode. Useful if you’re
running a multi-game arcade cabinet setup.</p>
</dd>
<dt><strong>TAISEI_KIOSK_TIMEOUT</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">7200</span> (2 minutes)</div>
</div>
<p>Timeout for the reset watchdog in kiosk mode (in frames).</p>
</dd>
</dl>
</div>
<div class="section" id="frame-dump-mode">
<h2><a class="toc-backref" href="#id10">Frame Dump Mode</a></h2>
<dl>
<dt><strong>TAISEI_FRAMEDUMP</strong></dt>
<dd><div class="line-block">
<div class="line">Default: unset</div>
<div class="line"><strong>Experimental</strong></div>
</div>
<p>If set, enables the framedump mode. In framedump mode, Taiseil will write
every rendered frame as a .png file into a directly specified by this variable.</p>
</dd>
<dt><strong>TAISEI_FRAMEDUMP_SOURCE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">screen</span></div>
</div>
<p>If set to <span class="docutils literal">screen</span>, the framedump mode will record the whole window, similar
to taking a screenshot. If set to <span class="docutils literal">viewport</span>, it will record only the contents
of the in-game viewport framebuffer, and will only be active while in-game. Note
that it is not the same as cropping a screenshot to the size of the viewport.
Some elements that are rendered on top of the viewport, such as dialogue portraits,
will not be captured.</p>
</dd>
<dt><strong>TAISEI_FRAMEDUMP_COMPRESSION</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
</div>
<p>Level of deflate compression to apply to dumped frames, in the 0-9 range. Lower
values will produce larger files that will encode faster. Larger values may create
a large backlog of frames to encode that will consume a lot of RAM, depending on
your CPU’s capabilities.</p>
</dd>
</dl>
</div>
<div class="section" id="miscellaneous">
<h2><a class="toc-backref" href="#id11">Miscellaneous</a></h2>
<dl>
<dt><strong>TAISEI_GAMEMODE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
<div class="line"><em>Linux only</em></div>
</div>
<p>If <span class="docutils literal">1</span>, enables automatic integration with Feral Interactive’s GameMode
daemon. Only meaningful for GameMode-enabled builds.</p>
</dd>
<dt><strong>TAISEI_REPLAY_DESYNC_CHECK_FREQUENCY</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">300</span></div>
</div>
<p>How frequently to write desync detection hashes into replays (every X frames).
Lowering this value results in larger replays with more accurate desync
detection. Intended for debugging desyncing replays with <span class="docutils literal"><span class="pre">--rereplay</span></span>.</p>
</dd>
</dl>
</div>
<div class="section" id="logging">
<h2><a class="toc-backref" href="#id12">Logging</a></h2>
<p>Taisei’s logging system currently has five basic levels and works by
dispatching messages to a few output handlers. Each handler has a level
filter, which is configured by a separate environment variable. All of
those variables work the same way: their value looks like an IRC mode
string, and represents a modification of the handler’s default settings.
If this doesn’t make sense, take a look at the <em>Examples</em> section.</p>
<div class="section" id="the-levels">
<h3><a class="toc-backref" href="#id13">The levels</a></h3>
<ul>
<li><p><strong>Debug</strong> (<em>d</em>) is the most verbose level. It contains random
information about internal workings of the game and is disabled for
release builds at source level.</p></li>
<li><p><strong>Info</strong> (<em>i</em>) logs some events that are expected to occur during
normal operation, for example when a spell is unlocked or a
screenshot is taken.</p></li>
<li><p><strong>Warning</strong> (<em>w</em>) usually complains about misuse of the engine
features, deprecations, unimplemented functionality, other small
anomalies that aren’t directly detrimental to functionality.</p></li>
<li><p><strong>Error</strong> (<em>e</em>) alerts of non-critical errors, for example a
missing optional resource, corrupted progress data, or failure to
save a replay due to insufficient storage space or privileges.</p></li>
<li><p><strong>Fatal</strong> (<em>f</em>) is an irrecoverable failure condition. Such an
event most likely signifies a programming error or a broken
installation. The game will immediately crash after writing a message
with this log level. On some platforms, it will also display a
graphical message box.</p></li>
<li><p><strong>All</strong> (<em>a</em>) is not a real log level, but a shortcut directive
representing all possible log levels. See <em>Examples</em> for usage.</p></li>
</ul>
</div>
<div class="section" id="the-variables">
<h3><a class="toc-backref" href="#id14">The variables</a></h3>
<dl>
<dt><strong>TAISEI_LOGLVLS_CONSOLE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">+a</span> <em>(All)</em></div>
</div>
<p>Controls what log levels may go to the console. This acts as a master
switch for <strong>TAISEI_LOGLVLS_STDOUT</strong> and <strong>TAISEI_LOGLVLS_STDERR</strong>.</p>
</dd>
<dt><strong>TAISEI_LOGLVLS_STDOUT</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">+di</span> <em>(Debug, Info)</em></div>
</div>
<p>Controls what log levels go to standard output. Log levels that are
disabled by <strong>TAISEI_LOGLVLS_CONSOLE</strong> are ignored.</p>
</dd>
<dt><strong>TAISEI_LOGLVLS_STDERR</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">+wef</span> <em>(Warning, Error, Fatal)</em></div>
</div>
<p>Controls what log levels go to standard error. Log levels that are
disabled by <strong>TAISEI_LOGLVLS_CONSOLE</strong> are ignored.</p>
</dd>
<dt><strong>TAISEI_LOGLVLS_FILE</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">+a</span> <em>(All)</em></div>
</div>
<p>Controls what log levels go to the log file
(<span class="docutils literal">{storage <span class="pre">directory}/log.txt</span></span>).</p>
</dd>
<dt><strong>TAISEI_LOG_ASYNC</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">1</span></div>
</div>
<p>If <span class="docutils literal">1</span>, log messages are written asynchronously from a background
thread. This mostly benefits platforms where writing to the console
or files is very slow (such as Windows). You may want to disable this
when debugging.</p>
</dd>
<dt><strong>TAISEI_LOG_ASYNC_FAST_SHUTDOWN</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">1</span>, don’t wait for the whole log queue to be written when
shutting down. This will make the game quit faster if log writing is
slow, at the expense of log integrity. Ignored if <span class="docutils literal">TAISEI_LOG_ASYNC</span>
is disabled.</p>
</dd>
<dt><strong>TAISEI_SDL_LOG</strong></dt>
<dd><div class="line-block">
<div class="line">Default: <span class="docutils literal">0</span></div>
</div>
<p>If <span class="docutils literal">&gt;0</span>, redirects SDL’s log output into the Taisei log. The value
controls the minimum log priority; see <span class="docutils literal">SDL_log.h</span> for details.</p>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h3><a class="toc-backref" href="#id15">Examples</a></h3>
<ul>
<li><p>In release builds: print <em>Info</em> messages to stdout, in addition to
<em>Warning</em>s, <em>Error</em>s, and <em>Fatal</em>s as per default:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_STDOUT</span><span class="operator">=</span>+i</code></pre>
</li>
<li><p>In Debug builds: remove <em>Debug</em> and <em>Info</em> output from the console:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_STDOUT</span><span class="operator">=</span>-di</code></pre>
<p>OR:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_CONSOLE</span><span class="operator">=</span>-di</code></pre>
</li>
<li><p>Don’t save anything to the log file:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_FILE</span><span class="operator">=</span>-a</code></pre>
</li>
<li><p>Don’t print anything to the console:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_CONSOLE</span><span class="operator">=</span>-a</code></pre>
</li>
<li><p>Don’t save anything to the log file, except for <em>Error</em>s and <em>Fatal</em>s:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_FILE</span><span class="operator">=</span>-a+ef</code></pre>
</li>
<li><p>Print everything except <em>Debug</em> to <span class="docutils literal">stderr</span>, nothing to <span class="docutils literal">stdout</span>:</p>
<pre class="code sh literal-block"><code><span class="name variable">TAISEI_LOGLVLS_STDOUT</span><span class="operator">=</span>-a
<span class="name variable">TAISEI_LOGLVLS_STDERR</span><span class="operator">=</span>+a-d</code></pre>
</li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>
